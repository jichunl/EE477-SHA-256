# This file is for setting simulation parameters that are particular
# to a design. Generally speaking, very few things should be set here
# and they should be specific to the design. For example, the following
# will define a macro called CORE_CLOCK set to 1000:
#
# 		VCS_OPTIONS += +define+CORE_CLOCK=1000
#
# This macro can now be used inside the testbench so that we can
# parameterize the simulation on the command line. We can also
# change parameter values depending on the simulation type by
# placing definitions within the simulation type specific areas
# of this Makefile.
# 


# TODO : MODIFY THESE AS NEEDED
#
# start here

# set the number of master nodes we have
VCS_OPTIONS += +define+NUM_MASTER_NODES=1

# set the core clock in the asic
VCS_OPTIONS += +define+CORE_0_PERIOD=20000
# set the io_master clock in the asic
VCS_OPTIONS += +define+IO_MASTER_0_PERIOD=15000

# set the core clock in the gateway (testbench)
VCS_OPTIONS += +define+CORE_1_PERIOD=20000
# set the io_master clock in the gateway (testbench)
VCS_OPTIONS += +define+IO_MASTER_1_PERIOD=5000

#
# end here

#--------------------#
#   RTL SIMULATION   #
#--------------------#
ifeq ($(BSG_VCS_RUN_TYPE),rtl)
endif

#--------------------------#
#    RTL HARD SIMULATION   #
#--------------------------#
ifeq ($(BSG_VCS_RUN_TYPE),rtl_hard)
endif

#-------------------------------#
#   POST-SYNTHESIS SIMULATION   #
#-------------------------------#
ifeq ($(BSG_VCS_RUN_TYPE),post_synth)
endif

#-------------------------------------#
#   POST-PLACE AND ROUTE SIMULATION   #
#-------------------------------------#
ifeq ($(BSG_VCS_RUN_TYPE),post_place_and_route)
endif

BSG_ASCII_TO_ROM_PY := $(BSG_IP_CORES_DIR)/bsg_mem/bsg_ascii_to_rom.py
BSG_TRACE_FILES := $(shell find $(BSG_DESIGNS_TARGET_DIR)/testing/v/ -name *.tr)
BSG_TRACE_ROMS := $(foreach f,$(BSG_TRACE_FILES),$(BSG_DESIGNS_TARGET_DIR)/testing/v/bsg_$(notdir $(basename $f))_rom.v)

$(BSG_OUT_SIM): $(BSG_TRACE_ROMS)
$(BSG_DESIGN_TESTING_FILELIST): $(BSG_TRACE_ROMS)

$(BSG_DESIGNS_TARGET_DIR)/testing/v/bsg_%_rom.v: $(BSG_DESIGNS_TARGET_DIR)/testing/v/%.tr
	 $(BSG_ASCII_TO_ROM_PY) $^ $(notdir $(basename $@)) > $@

